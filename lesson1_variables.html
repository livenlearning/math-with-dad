<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Intro to Algebra – Lesson 1: What Is a Variable?</title>
  <style>
    /* Basic layout & typography */
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      margin: 0;
      padding: 0;
      background: #f4f5fb;
      color: #1f2933;
    }

    .page {
      max-width: 960px;
      margin: 0 auto;
      padding: 24px 16px 48px;
    }

    h1, h2, h3 {
      color: #111827;
      margin-top: 0;
    }

    h1 {
      font-size: 2rem;
      margin-bottom: 0.25rem;
    }

    h2 {
      font-size: 1.4rem;
      margin-top: 1.5rem;
      margin-bottom: 0.25rem;
    }

    h3 {
      font-size: 1.15rem;
      margin-bottom: 0.25rem;
    }

    p {
      line-height: 1.5;
      margin: 0.4rem 0 0.7rem;
    }

    .subtitle {
      color: #4b5563;
      margin-bottom: 1.5rem;
    }

    /* Card styles */
    .card {
      background: #ffffff;
      border-radius: 12px;
      box-shadow: 0 10px 25px rgba(15, 23, 42, 0.08);
      padding: 16px 18px 18px;
      margin-bottom: 20px;
      border: 1px solid #e5e7eb;
    }

    .card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 8px;
    }

    .tag {
      font-size: 0.75rem;
      padding: 2px 8px;
      border-radius: 999px;
      background: #eef2ff;
      color: #4338ca;
      border: 1px solid #e0e7ff;
    }

    /* Function machine visual */
    .machine-container {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      margin-top: 8px;
    }

    .machine-box {
      flex: 1 1 220px;
      min-height: 80px;
      border-radius: 12px;
      border: 2px solid #e5e7eb;
      background: #f9fafb;
      padding: 10px 12px;
      box-sizing: border-box;
      position: relative;
    }

    .machine-label {
      font-size: 0.8rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: #6b7280;
      margin-bottom: 4px;
    }

    .machine-value {
      font-size: 1.2rem;
      font-weight: 600;
      color: #111827;
      min-height: 1.6rem;
    }

    .machine-arrow {
      flex: 0 0 auto;
      font-size: 1.8rem;
      color: #9ca3af;
      text-align: center;
      padding: 0 6px;
    }

    /* Inputs & buttons */
    .form-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 8px;
      align-items: center;
    }

    .form-row label {
      font-size: 0.9rem;
      color: #4b5563;
      margin-right: 4px;
    }

    input[type="text"],
    input[type="number"] {
      padding: 6px 8px;
      border-radius: 8px;
      border: 1px solid #d1d5db;
      min-width: 80px;
      font-size: 0.95rem;
      box-sizing: border-box;
    }

    input[type="text"]:focus,
    input[type="number"]:focus {
      outline: none;
      border-color: #6366f1;
      box-shadow: 0 0 0 1px rgba(99, 102, 241, 0.3);
    }

    button {
      border: none;
      border-radius: 999px;
      padding: 6px 14px;
      font-size: 0.9rem;
      cursor: pointer;
      font-weight: 600;
      background: #4f46e5;
      color: white;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    button.secondary {
      background: #e5e7eb;
      color: #111827;
    }

    button:hover {
      filter: brightness(1.05);
    }

    button:disabled {
      opacity: 0.5;
      cursor: default;
    }

    /* Output & steps */
    .output-box {
      margin-top: 10px;
      padding: 8px 10px;
      border-radius: 8px;
      background: #eff6ff;
      border: 1px solid #bfdbfe;
      font-size: 0.95rem;
      color: #1e3a8a;
      white-space: pre-line;
    }

    .output-box.error {
      background: #fef2f2;
      border-color: #fecaca;
      color: #991b1b;
    }

    .mini-note {
      font-size: 0.8rem;
      color: #6b7280;
      margin-top: 4px;
    }

    /* Table */
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 8px;
      font-size: 0.9rem;
    }

    th, td {
      padding: 6px 8px;
      border-bottom: 1px solid #e5e7eb;
      text-align: left;
    }

    th {
      background: #f3f4f6;
      font-weight: 600;
      color: #4b5563;
    }

    tr:nth-child(even) td {
      background: #f9fafb;
    }

    /* Small screen tweaks */
    @media (max-width: 640px) {
      .machine-container {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <div class="page">
    <header style="margin-bottom: 18px;">
      <h1>Intro to Algebra – Lesson 1</h1>
      <p class="subtitle"><strong>What is a variable?</strong> &nbsp;A variable is a number that can change, but follows a rule.</p>
    </header>

    <!-- Concept Card -->
    <section class="card">
      <div class="card-header">
        <h2 style="margin: 0;">1. Big Idea</h2>
        <span class="tag">Concept</span>
      </div>
      <p>
        In arithmetic, you work with specific numbers (like 5 + 7). In algebra, you work with
        <strong>rules</strong> that work for <em>any</em> number.
      </p>
      <p>
        A <strong>variable</strong> is a letter (like <code>x</code>) that stands for a number
        that can change. For example, if a rule says “add 5 to any number,” we can write:
      </p>
      <p style="margin-left: 10px;"><strong>f(x) = x + 5</strong></p>
      <p>
        If <code>x = 1</code>, then <code>f(1) = 6</code>.<br />
        If <code>x = 10</code>, then <code>f(10) = 15</code>.<br />
        The <strong>same rule</strong> works every time.
      </p>
    </section>

    <!-- Warm-up Card -->
    <section class="card">
      <div class="card-header">
        <h2 style="margin: 0;">2. Warm-Up: Follow the Rule</h2>
        <span class="tag">Try it</span>
      </div>
      <p>Use the rule <strong>x + 5</strong>. Fill in the missing values in your head or on paper:</p>
      <table>
        <thead>
          <tr>
            <th>x</th>
            <th>x + 5</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>1</td>
            <td>6</td>
          </tr>
          <tr>
            <td>2</td>
            <td>7</td>
          </tr>
          <tr>
            <td>3</td>
            <td>8</td>
          </tr>
          <tr>
            <td>10</td>
            <td>15</td>
          </tr>
        </tbody>
      </table>
      <p class="mini-note">
        A variable lets us talk about <em>all</em> of those at once: “take any x, add 5”.
      </p>
    </section>

    <!-- Expressions vs Equations -->
    <section class="card">
      <div class="card-header">
        <h2 style="margin: 0;">3. Expressions vs. Equations</h2>
        <span class="tag">Vocabulary</span>
      </div>
      <p>
        An <strong>expression</strong> is a rule or calculation, like <code>3x + 2</code> or <code>x - 4</code>.
        It does <em>not</em> have an equals sign.
      </p>
      <p>
        An <strong>equation</strong> is a statement that two things are equal, like
        <code>3x + 2 = 11</code>. It <em>does</em> have an equals sign and can be true or false.
      </p>
      <p>Examples:</p>
      <ul style="margin-top: 4px;">
        <li><code>3x + 1</code> → expression</li>
        <li><code>2x = 14</code> → equation</li>
        <li><code>x - 4</code> → expression</li>
        <li><code>5x + 3 = 28</code> → equation</li>
      </ul>
    </section>

    <!-- Function Machine -->
    <section class="card">
      <div class="card-header">
        <h2 style="margin: 0;">4. Function Machine</h2>
        <span class="tag">Interactive</span>
      </div>
      <p>
        A <strong>function</strong> is a rule that takes an input number and gives an output number.
        You can think of it like a machine:
      </p>

      <div class="machine-container">
        <div class="machine-box">
          <div class="machine-label">Input</div>
          <div class="machine-value" id="machineInputDisplay">x = 1</div>
        </div>
        <div class="machine-arrow">➡</div>
        <div class="machine-box">
          <div class="machine-label">Rule</div>
          <div class="machine-value" id="machineRuleDisplay">f(x) = 3x + 2</div>
        </div>
        <div class="machine-arrow">➡</div>
        <div class="machine-box">
          <div class="machine-label">Output</div>
          <div class="machine-value" id="machineOutputDisplay">f(1) = 5</div>
        </div>
      </div>

      <div class="form-row" style="margin-top: 14px;">
        <label for="ruleInput"><strong>Rule f(x) =</strong></label>
        <input
          type="text"
          id="ruleInput"
          value="3*x + 2"
          aria-label="Rule expression (use x as the variable)"
        />
      </div>
      <div class="mini-note">
        Use <code>x</code> in your rule, like <code>2*x + 3</code>, <code>x**2 + 1</code>, or
        <code>4*x - 5</code>.
      </div>

      <div class="form-row">
        <label for="xInput"><strong>x =</strong></label>
        <input
          type="number"
          id="xInput"
          value="1"
          step="1"
        />
        <button id="runMachineButton">Run Machine</button>
        <button id="addToTableButton" class="secondary">Add to Table</button>
      </div>

      <div id="machineOutputBox" class="output-box">
        Try a rule and a value of x, then click <strong>Run Machine</strong>.
      </div>
      <p class="mini-note">
        Behind the scenes, this is like a tiny program: it takes <code>x</code>, applies your rule, and
        shows the result.
      </p>

      <h3 style="margin-top: 16px;">History Table</h3>
      <p style="margin-bottom: 4px;">
        Each time you click “Add to Table”, your machine adds a row here:
      </p>
      <table id="historyTable">
        <thead>
          <tr>
            <th>x (input)</th>
            <th>f(x) (output)</th>
            <th>Rule</th>
          </tr>
        </thead>
        <tbody id="historyBody">
          <!-- rows added by JavaScript -->
        </tbody>
      </table>
    </section>

    <!-- Expression Evaluator -->
    <section class="card">
      <div class="card-header">
        <h2 style="margin: 0;">5. Practice: Evaluate Expressions</h2>
        <span class="tag">Interactive</span>
      </div>
      <p>
        These are some common expressions. Pick one, choose a value of x, and see what the result is.
      </p>

      <div class="form-row">
        <label for="presetExpression"><strong>Expression:</strong></label>
        <select id="presetExpression">
          <option value="2*x + 3">2x + 3</option>
          <option value="4*x - 1">4x - 1</option>
          <option value="x/2 + 5">x/2 + 5</option>
          <option value="x**2 + 1">x² + 1</option>
        </select>

        <label for="presetX" style="margin-left: 6px;"><strong>x =</strong></label>
        <input type="number" id="presetX" value="0" step="1" />

        <button id="evalPresetButton">Evaluate</button>
      </div>

      <div id="presetOutputBox" class="output-box" style="margin-top: 8px;">
        Choose an expression and a value for x, then click <strong>Evaluate</strong>.
      </div>
    </section>

    <!-- Reflection -->
    <section class="card">
      <div class="card-header">
        <h2 style="margin: 0;">6. Reflection</h2>
        <span class="tag">Think</span>
      </div>
      <p>Talk or write about these questions:</p>
      <ol style="margin-top: 6px;">
        <li>In your own words, what is a variable?</li>
        <li>How is an expression different from an equation?</li>
        <li>What did you notice about how changing the rule changes the pattern in the table?</li>
      </ol>
    </section>
  </div>

  <script>
    // Helper: safely evaluate a math expression in terms of x
    function evaluateExpression(expr, x) {
      // Basic guard: disallow certain characters (you can tighten this if you like)
      const forbidden = /[;{}[\]]/;
      if (forbidden.test(expr)) {
        throw new Error("Please use only math operations with x.");
      }
      // Create a function of x and evaluate
      const fn = new Function("x", "return " + expr + ";");
      return fn(x);
    }

    // Elements for the function machine
    const ruleInput = document.getElementById("ruleInput");
    const xInput = document.getElementById("xInput");
    const runMachineButton = document.getElementById("runMachineButton");
    const addToTableButton = document.getElementById("addToTableButton");
    const machineOutputBox = document.getElementById("machineOutputBox");
    const machineInputDisplay = document.getElementById("machineInputDisplay");
    const machineRuleDisplay = document.getElementById("machineRuleDisplay");
    const machineOutputDisplay = document.getElementById("machineOutputDisplay");
    const historyBody = document.getElementById("historyBody");

    function runMachine(addToTable) {
      const expr = ruleInput.value.trim();
      const xVal = Number(xInput.value);
      machineInputDisplay.textContent = "x = " + xVal;
      machineRuleDisplay.textContent = "f(x) = " + expr;

      if (!expr) {
        machineOutputBox.classList.add("error");
        machineOutputBox.textContent = "Please enter a rule using x, like 3*x + 2.";
        machineOutputDisplay.textContent = "–";
        return;
      }

      try {
        const result = evaluateExpression(expr, xVal);
        const substituted = expr.replace(/x/g, "(" + xVal + ")");
        machineOutputBox.classList.remove("error");
        machineOutputBox.textContent =
          "Step 1: Start with f(x) = " + expr + "\n" +
          "Step 2: Substitute x = " + xVal + " → " + substituted + "\n" +
          "Result: f(" + xVal + ") = " + result;
        machineOutputDisplay.textContent = "f(" + xVal + ") = " + result;

        if (addToTable) {
          const row = document.createElement("tr");
          const tdX = document.createElement("td");
          const tdFx = document.createElement("td");
          const tdRule = document.createElement("td");
          tdX.textContent = xVal;
          tdFx.textContent = result;
          tdRule.textContent = expr;
          row.appendChild(tdX);
          row.appendChild(tdFx);
          row.appendChild(tdRule);
          historyBody.appendChild(row);
        }
      } catch (err) {
        machineOutputBox.classList.add("error");
        machineOutputBox.textContent =
          "I couldn't understand that rule.\nTry something like 3*x + 2 or x**2 + 1.";
        machineOutputDisplay.textContent = "–";
      }
    }

    runMachineButton.addEventListener("click", function () {
      runMachine(false);
    });

    addToTableButton.addEventListener("click", function () {
      runMachine(true);
    });

    // Preset expression evaluator
    const presetExpression = document.getElementById("presetExpression");
    const presetX = document.getElementById("presetX");
    const evalPresetButton = document.getElementById("evalPresetButton");
    const presetOutputBox = document.getElementById("presetOutputBox");

    evalPresetButton.addEventListener("click", function () {
      const expr = presetExpression.value;
      const xVal = Number(presetX.value);
      try {
        const result = evaluateExpression(expr, xVal);
        const substituted = expr.replace(/x/g, "(" + xVal + ")");
        presetOutputBox.classList.remove("error");
        presetOutputBox.textContent =
          "Expression: " + expr + "\n" +
          "Substitute x = " + xVal + " → " + substituted + "\n" +
          "Result: " + result;
      } catch (err) {
        presetOutputBox.classList.add("error");
        presetOutputBox.textContent =
          "There was a problem evaluating this expression. Try a different value for x.";
      }
    });

    // Initialize displays
    runMachine(false);
  </script>
</body>
</html>
